<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.59.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>pyecharts å½©è›‹å‡½æ•° -- add_js_funcs&nbsp;&ndash;&nbsp;Articles</title><link rel="stylesheet" href="/css/core.min.dc1e9c56383253a92e952044bbf9695dbb320db4c154afecac64a6fe0ad70f6c4b2f64097cf2d51e23ee15c0dfb0b601.css" integrity="sha384-3B6cVjgyU6kulSBEu/lpXbsyDbTBVK/srGSm/grXD2xLL2QJfPLVHiPuFcDfsLYB"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">Articles</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="https://github.com/pyecharts"target="_blank">Homeland</a></nav></div></span></div><div class="site slogan"><span class="title">ğŸ¶ Life is about waiting for the right moment to act.</span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">pyecharts å½©è›‹å‡½æ•° -- add_js_funcs</h1><i><br/>Author: sunhailin-Leo</i><p class="article date">2020-04-13<span class="reading-time"> â€¢ 3 minutes to read</span></p></section><article class="article markdown-body">

<h2 id="ç®€ä»‹">ç®€ä»‹</h2>

<ul>
<li>è¿™æ¬¡ä¸»è¦è®²ä¸€ä¸ªå†…ç½®çš„å‡½æ•° &ndash; add_js_funcs</li>
<li>è¿™ä¸ªå‡½æ•°çš„ä½œç”¨é¡¾åæ€ä¹‰å°±æ˜¯æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ javascript å‡½æ•°</li>
</ul>

<h2 id="demo">Demo</h2>

<ul>
<li>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ç»™å¤§å®¶å±•ç¤ºä¸€ä¸‹</li>
<li>è¯ä¸å¤šè¯´ç›´æ¥ä¸Š Demo Codeï¼š</li>
</ul>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> pyecharts <span style="color:#f92672">import</span> options <span style="color:#66d9ef">as</span> opts
<span style="color:#f92672">from</span> pyecharts.charts <span style="color:#f92672">import</span> Bar
<span style="color:#f92672">from</span> pyecharts.commons.utils <span style="color:#f92672">import</span> JsCode
<span style="color:#f92672">from</span> pyecharts.faker <span style="color:#f92672">import</span> Faker

c <span style="color:#f92672">=</span> (
    Bar(
        init_opts<span style="color:#f92672">=</span>opts<span style="color:#f92672">.</span>InitOpts(
            bg_color<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;pattern&#34;</span>, <span style="color:#e6db74">&#34;image&#34;</span>: JsCode(<span style="color:#e6db74">&#34;img&#34;</span>), <span style="color:#e6db74">&#34;repeat&#34;</span>: <span style="color:#e6db74">&#34;no-repeat&#34;</span>},
        )
    )
    <span style="color:#f92672">.</span>add_xaxis(Faker<span style="color:#f92672">.</span>choose())
    <span style="color:#f92672">.</span>add_yaxis(<span style="color:#e6db74">&#34;å•†å®¶A&#34;</span>, Faker<span style="color:#f92672">.</span>values())
    <span style="color:#f92672">.</span>add_yaxis(<span style="color:#e6db74">&#34;å•†å®¶B&#34;</span>, Faker<span style="color:#f92672">.</span>values())
    <span style="color:#f92672">.</span>set_global_opts(
        title_opts<span style="color:#f92672">=</span>opts<span style="color:#f92672">.</span>TitleOpts(
            title<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Bar-èƒŒæ™¯å›¾åŸºæœ¬ç¤ºä¾‹&#34;</span>,
            subtitle<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;æˆ‘æ˜¯å‰¯æ ‡é¢˜&#34;</span>,
            title_textstyle_opts<span style="color:#f92672">=</span>opts<span style="color:#f92672">.</span>TextStyleOpts(color<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>),
        )
    )
)
c<span style="color:#f92672">.</span>add_js_funcs(
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    var img = new Image(); img.src = &#39;https://s1.ax1x.com/2020/04/02/GJ1ggS.jpg&#39;;
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
)
c<span style="color:#f92672">.</span>render()</code></pre></div>

<h2 id="æ•ˆæœ">æ•ˆæœ</h2>

<figure>
    <img src="https://pic4.zhimg.com/80/v2-00cadd718fb9bdc142e88a02581788bf_1440w.jpg" width="800"/>
  <figcaption><center>å›¾1</center></figcaption>
</figure>

<h2 id="è®²è§£">è®²è§£</h2>

<ul>
<li>è¿™å¼ å›¾ä¹‹æ‰€ä»¥èƒ½å¤Ÿæ”¾åˆ°æˆ‘ä»¬ç”»çš„èƒŒåä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªç‚¹ï¼š

<ul>
<li>1ã€<code>InitOpts</code> ä¸­ <code>bg_Color</code> çš„å­—å…¸ï¼ˆæ ¸å¿ƒæ˜¯ï¼š<code>JsCode(&quot;img&quot;)</code>ï¼‰</li>
<li>2ã€ä»£ç ä¸­çš„ <code>add_js_funcs</code> ä»£ç å—ï¼ˆä¸‹é¢è¿™æ®µä»£ç çš„ä½œç”¨å°±æ˜¯å®ä¾‹åŒ–ä¸€ä¸ª <code>Image</code> çš„å¯¹è±¡èµ‹å€¼ç»™ img å˜é‡ï¼Œç„¶åç»™å®ƒçš„ <code>src</code> å±æ€§èµ‹å€¼ä¸ºå›¾ç‰‡çš„ URL é“¾æ¥ï¼‰</li>
<li>3ã€æœ€åå›åˆ°åªè¦æŠŠè¿™ä¸ªå˜é‡æ”¾åˆ°ç¬¬ä¸€ç‚¹æ‰€æåˆ°çš„ <code>JsCode</code> ä¸­å³å¯
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">img</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Image</span>(); <span style="color:#a6e22e">img</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://s1.ax1x.com/2020/04/02/GJ1ggS.jpg&#39;</span>;
    
</code></pre></div></li>
</ul></li>
</ul>

<h2 id="åˆ†æ-part-1">åˆ†æï¼ˆPart 1ï¼‰</h2>

<ul>
<li><code>pyecharts</code> å’Œ <code>JavaScript</code> çš„ä»£ç ä¸éš¾ç†è§£ï¼Œç°åœ¨æ¥çœ‹çœ‹ç©¶ç«Ÿè¿™æ®µ <code>JavaScript</code> ä»£ç æ˜¯å¦‚ä½•æœ‰æ•ˆçš„ã€‚ï¼ˆä¸‹é¢ä¸º <code>pyecharts</code> ç”Ÿæˆçš„ <code>html</code> æ–‡ä»¶ä¸­çš„éƒ¨åˆ†ä»£ç ï¼‰</li>
</ul>

<figure>
    <img src="https://pic1.zhimg.com/80/v2-6922ff826bfc250793dc332e984d9a14_1440w.jpg" width="800"/>
  <figcaption><center>å›¾2</center></figcaption>
</figure>

<ul>
<li>ç¬¬ä¸€ä¸ªçº¢æ¡†æ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿå‘¢ï¼ŸBingoï¼å°±æ˜¯æˆ‘ä»¬åœ¨ <code>add_js_funcs</code> ä¸­å†™çš„ <code>JavaScript</code>ä»£ç äº†ã€‚</li>
<li>ç¬¬äºŒä¸ªçº¢æ¡†å°±æ˜¯ <code>pyecharts</code> ä¸­çš„ <code>bg_color</code>ï¼Œå¯¹åº” <code>Echarts</code> å°±æ˜¯ <code>backgroundColor</code> è¿™ä¸ªå±æ€§</li>
</ul>

<h2 id="åˆ†æ-part-2">åˆ†æï¼ˆPart 2ï¼‰</h2>

<ul>
<li>é‚£æ®µçš„ <code>JavaScript</code> ç©¶ç«Ÿæ˜¯æ€ä¹ˆå¡«åˆ°é‚£ä¸ªä½ç½®çš„å‘¢ï¼Ÿå…ˆæ¥äº†è§£ä¸€ä¸‹ pyecharts çš„æ¸²æŸ“æ–¹å¼.</li>
<li>ç®€å•æ¥è¯´ <code>pyecharts</code> çš„åŸç†å®é™…ä¸Šæ˜¯é€šè¿‡ <code>Jinja2</code> æ¨¡ç‰ˆå¼•æ“å°†æ‰€æœ‰çš„ html ä»£ç å—ç”Ÿæˆå‡ºæ¥ã€‚</li>
<li>ä»£ç ä¸­é€šè¿‡é«˜åº¦æŠ½è±¡çš„ç”»å›¾ç±»å°è£…æˆæœ€ç»ˆ <code>Echarts</code> éœ€è¦çš„ <code>json</code> é…ç½®ï¼Œæœ€ååœ¨é€šè¿‡ <code>RenderEngine</code> è¿™ä¸ªç±»è¿›è¡Œæ¸²æŸ“ã€‚ï¼ˆé»˜è®¤è°ƒç”¨çš„æ˜¯æœ€æ™®é€šçš„ <code>render</code> æ–¹æ³•ï¼Œå³ç”Ÿæˆä¸€ä¸ªæ™®é€šä½†ä¸å¹³å‡¡çš„ <code>html</code> æ–‡ä»¶ï¼‰</li>
</ul>

<h2 id="åˆ†æ-part-3">åˆ†æï¼ˆPart 3ï¼‰</h2>

<ul>
<li>å›åˆ°æ­£é¢˜ï¼Œæ—¢ç„¶äº†è§£äº†å¤§è‡´çš„æ¸²æŸ“é€»è¾‘å’Œæµç¨‹ï¼Œé‚£ä¹ˆæœ€å…³é”®çš„å°±æ˜¯æ¨¡ç‰ˆäº†ã€‚</li>
<li>åœ¨æ™®é€šæ¨¡å¼ä¸‹ <code>RenderEngine</code> æœ€å…ˆæ‰¾åˆ°çš„å°±æ˜¯ <code>simple_chart.html</code> è¿™ä¸ªæ¨¡ç‰ˆã€‚</li>
<li>åœ¨å½“å‰æ¨¡ç‰ˆä¸‹ä¼šå‘ç°éœ€è¦å¼•å…¥ <code>macro</code> è¿™ä¸ªæ–‡ä»¶ï¼Œæ­¤æ—¶ <code>Jinja2</code> å°±ä¼šå»è°ƒç”¨ <code>macro</code> ä¸­çš„ <code>render_chart_content</code> è¿™ä¸ªæ–¹æ³•ã€‚</li>
</ul>

<figure>
    <img src="https://pic4.zhimg.com/80/v2-5b378d2c74daf86aabb159089dbec67f_1440w.jpg" width="800"/>
  <figcaption><center>å›¾3</center></figcaption>
</figure>

<figure>
    <img src="https://pic2.zhimg.com/80/v2-2685bb7d2a24a2a0161ee50e6a94cd39_1440w.jpg" width="800" />
  <figcaption><center>å›¾4</center></figcaption>
</figure>

<ul>
<li>å›¾å››ç®­å¤´ä¸­æŒ‡å‘çš„çº¢æ¡†å°±æ˜¯æ ¸å¿ƒéƒ¨åˆ†äº†ï¼Œæ‰€æœ‰é€šè¿‡ <code>add_js_funcs</code> æ·»åŠ çš„ä»£ç å—éƒ½ä¼šé€šè¿‡å†…éƒ¨å˜é‡ <code>js_functions</code> æ¸²æŸ“åˆ°ç”»å›¾çš„é…ç½®ä¹‹å‰ã€‚</li>
<li>è‡³æ­¤ï¼Œé™¤äº† <code>pyecharts</code> ä»£ç éƒ¨åˆ†çš„é€»è¾‘æ²¡æœ‰å±•ç¤ºä»¥å¤–ï¼Œå¤§è‡´çš„æµç¨‹å·²ç»é˜è¿°å®Œæ¯•ï¼Œç›¸ä¿¡å„ä½çœ‹å®˜å·²ç»æœ‰æ‰€äº†è§£ï½</li>
</ul>

<h2 id="åˆ†æ-last-part">åˆ†æï¼ˆLast Partï¼‰</h2>

<ul>
<li><code>Bar</code> ç»§æ‰¿è‡ª <code>RectChart</code>ï¼Œ<code>RectChart</code> ç»§æ‰¿è‡ª <code>Chart</code>ï¼Œ<code>Chart</code> ç»§æ‰¿è‡ª <code>Base</code>ï¼Œ<code>Base</code> æœ‰ä¸€ä¸ª <code>Mixin</code> ç±» <code>ChartMixin</code>ã€‚</li>
<li><code>add_js_funcs</code> å°±éšè—åœ¨ <code>ChartMixin</code> ä¸­ï¼Œå¯¹åº”çš„å˜é‡å³ <code>self.js_functions</code></li>
</ul>

<figure>
    <img src="https://pic4.zhimg.com/80/v2-d4d89f725b90eaad98b55e4f1f59bd47_1440w.jpg" width="800" />
  <figcaption><center>å›¾5</center></figcaption>
</figure>

<ul>
<li>æœ€ç»ˆåœ¨ <code>class Base</code> ä¸­è°ƒç”¨çš„ <code>render</code> å‡½æ•°å°±ä¼šè¿›è¡Œ Part 3 ä¸­çš„æ¸²æŸ“é€»è¾‘ï¼Œæ¸²æŸ“å‡ºæœ€ç»ˆå‘ˆç°çš„ <code>html</code> äº†ã€‚</li>
</ul>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<ul>
<li>å…¶å® <code>pyecharts</code> çš„æºç å¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„éš¾ï¼Œåªæ˜¯é€šè¿‡é«˜åº¦æŠ½è±¡ä¹‹åå˜å¾—æœ‰ç‚¹ç»•ï¼Œä½†ç»è¿‡æŠ½ä¸å‰¥èŒ§åå°±ä¼šå‘ç°å…¶å®ä¹Ÿå°±é‚£ä¹ˆä¸€å›äº‹ã€‚Easy to codingï¼Œeasy to drawing.</li>
<li>æœ€åï¼Œå¸Œæœ›è¿™ä¸ªä¸“æ ä¹Ÿä¸è¦æ²‰ä¸‹å»ï¼Œæˆ‘å°½é‡ä¿æŒæ¯å‘¨éƒ½å†™ä¸€ç¯‡æ–‡ç« å‘åˆ°è¿™ä¸ªä¸“æ ä¸Šã€‚åŒæ—¶ï¼Œä¹Ÿå¸Œæœ›å„ä½è¯»è€…æˆ–è€…å¼€å‘è€…å¯ä»¥åˆ†äº«ä¸€ä¸‹è‡ªå·±çš„ä½¿ç”¨ç»å†æˆ–è€…ä½¿ç”¨çš„ Demoã€‚</li>
<li>æœ€åçš„æœ€åï¼Œå¸Œæœ›å„ä½æ•°æ®å¼€å‘è€…åœ¨è¯»æºç çš„è¿‡ç¨‹ä¸­èƒ½å¤Ÿå¤šä¸€æ­¥ï¼Œæ·±ä¸€åº¦ã€‚ğŸ‘€</li>
</ul>
</article></div><section class="article navigation"><p><a class="link" href="/post/pyecharts-magical-index/"><span class="li">&larr;</span>pyecharts ä¹‹ç¥å¥‡çš„è½´ç´¢å¼•</a></p></section></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">Â©2020 pyecharts-team</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section><script src="/js/hljs.min.0799348a91dce12c6be4a73f943cfe78f181f4e6f6ec35c4af0fca1de377879f77cfab03c30f03a174d675737b5a9314.js" integrity="sha384-B5k0ipHc4Sxr5Kc/lDz&#43;ePGB9Ob27DXErw/KHeN3h593z6sDww8DoXTWdXN7WpMU"></script><script>hljs.initHighlightingOnLoad();</script></div>
</body>

</html>